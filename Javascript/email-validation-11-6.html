<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form action="">
      <input type="email" name="" id="email" placeholder="Enter your email" />
      <button id="btn" ">Submit</button>
    </form>

    <script>
      const email = document.querySelector('#email');
      const btn = document.querySelector('#btn');

      btn.addEventListener('click', (event) => {
        event.preventDefault();
        let emailValue = email.value;
        // console.log(emailValue);
        isEmailValid= validateEmail(emailValue)
        console.log(isEmailValid)
      });



      function validateEmail(emailVal){
        let isEmpty=false;
        let hasWhiteSpace=false;
        let isAtPresent=false;
        let isDotPresent=false;
        let isAtAndDotPresentTogether=false;
        let hasNotAllowedSymbolPresent=false;
        let hasCharactersPresentBeforeAt=false;
        let hasCharactersPresentAfterDot=false;
        
        listOfNotAllowedSpecialCharacters='!~#$%^&*()=+/[]'
         if(emailVal.length==0 ){
            isEmpty=true
         }
         if(emailVal.includes('@')){
            isAtPresent=true;
         }
         if(emailVal.includes('.')){
            isDotPresent=true;
         }
         if(emailVal.includes('@.')|| emailVal.includes('.@')){
            isAtAndDotPresentTogether=true;
         }
         if(emailVal.includes(' ')){
            hasWhiteSpace=true;
         }
         if(emailVal.indexOf('@')>=3){
            hasCharactersPresentBeforeAt=true;
         }
        //  console.log(emailVal.length-emailVal.indexOf('.')-1)
         
         if((emailVal.length-emailVal.indexOf('.')-1>=3)){
            hasCharactersPresentAfterDot=true;
         }
         

            for(let i=0;i<emailVal.length;i++){
                if(listOfNotAllowedSpecialCharacters.includes(emailVal[i])){
                hasNotAllowedSymbolPresent=true;
                }
            }

        //  console.log('isEmpty',!isEmpty)
        //  console.log('hasWhiteSpace',!hasWhiteSpace)
        //  console.log('isAtPresent',isAtPresent)
        //  console.log('isDotPresent',isDotPresent)
        //  console.log('isAtAndDotPresentTogether',!isAtAndDotPresentTogether)
        //  console.log('hasNotAllowedSymbolPresent',!hasNotAllowedSymbolPresent)
        //  console.log('hasCharactersPresentBeforeAt',hasCharactersPresentBeforeAt)
        //  console.log('hasCharactersPresentBeforeAt',hasCharactersPresentAfterDot)

        //  console.log(!isEmpty && !hasWhiteSpace && isAtPresent && isDotPresent && !isAtAndDotPresentTogether&& !hasNotAllowedSymbolPresent && hasCharactersPresentBeforeAt && hasCharactersPresentAfterDot)

         return (!isEmpty && !hasWhiteSpace && isAtPresent && isDotPresent && !isAtAndDotPresentTogether&& !hasNotAllowedSymbolPresent && hasCharactersPresentBeforeAt && hasCharactersPresentAfterDot)
      }

// test()

//       function test(){
//         str='abcd@efplo'
//         strLength=str.length;
//         console.log(strLength)
        
//         console.log(str.indexOf('@'))
// console.log(strLength-str.indexOf('@')-1);


//       }
    </script>
  </body>
</html>
